<html>
<head>
    <title>Vuejs instance in depth</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://unpkg.com/vue"></script>
</head>
<body>
<style>
    
</style>
<div id="app" class="container">
    <div class="row">
        <div class="col">
            <h1>{{ title }}</h1>
            <!-- 1.5 We go to the el and place the "ref" attribute which is not official html attribute -->
            <button 
                class="btn btn-primary" 
                @click="changeBtnText" 
                ref="someBtn">Click and change my inner text</button>

        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->
</div>
<!-- /.container -->

<div id="app2" class="container">
    <div class="row">
        <div class="col">
            <h1>{{ title }}</h1>
            <!-- 1.5 We go to the el and place the "ref" attribute which is not official html attribute -->
            <button 
                class="btn btn-primary" 
                @click="changeBtnText" 
                ref="someBtn">Click and change my inner text</button>

        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->
</div>
<!-- /.container -->

<script>

var vm =  new Vue({
    el: '#app',
    data: {
        title: 'This is app from first vue instance'
    },
    methods: {
        changeBtnText: function(){
            console.log('$refs: ', this.$refs);
            console.log('this.$refs.someBtn: ', this.$refs.someBtn);
            this.$refs.someBtn.innerText = 'My inner text was changed';
        }
    }
});

var vm2 = new Vue({
    data: {
        title: 'This is app 2 from second vue Instance!'
    },
    methods: {
        changeBtnText: function(){
            console.log('$refs: ', this.$refs);
            console.log('this.$refs.someBtn: ', this.$refs.someBtn);
            this.$refs.someBtn.innerText = 'My inner text was changed';
        }
    }
});

vm2.$mount('#app2');


/** Topics
    1.1 Using refs in our templates
    1.2 We want a button and when we click it to change its text
    1.3 In vanilla js we can use query selector
    https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector
    1.4 With Vuejs we can access it very easily using refs
    1.5 We go to the el and place the "ref" attribute which is not
    official html attribute
    1.6 "ref" is a key added by vuejs
    1.7 notice that it doesn't have ":" in front of it. It's not a 
    directive
    1.8 Make a function that will change the text
    1.9 We use $refs to access to refs obj inside the vue inctance
    1.9 ref is not reactive we can only use it get the value of 
    something for example

    When we want to dive into vuejs we can read th whole api here
    https://vuejs.org/v2/api/

    2.1 Mounting template 
    2.2 We have one way to select element which vueks will handle on
    with the "el" prop
    2.3 We have another way to choose which el we want to mount to 
    our vuejs instance with the $mount method
    2.3 Create second vue instance and choose app2 with $mount
    2.4 the props prefixed with "$" are the native vuejs methods and props
    we can use
    2.5 $mount is not a prop. It is a method and allow us to do the same as the el property
    2.6 the only difference is the syntax behind the scenes it works the same
    2.7 If you know where to mount it use the "el"
    2.8 You may have a case where you want to create and configure the vue instance
    but know yet where to mount it or html element doesn't exist yet
    in that case you can create it execute some other code and once
    you know where to mount it you can call the variable name where you store the instance
    $mount and as an argument pass the selector leading to the element where you
    want to mount it.
    
    Link to documentation
    https://vuejs.org/v2/guide/instance.html
*/

</script>
</body>
</html>
